{% extends "base.html" %}
{% block title %}Next{% endblock %}

{% block content %}
<div>
    <h1 class="text-center text-5xl mb-4">What can you use AI For?</h1>
    <h1 class="text-center mb-8">There are many different ways in which one can use AI in your daily life. Which way would you like to test?</h1>

    <!-- Tabs -->
    <div class="max-w-4xl mx-auto mb-8">
        <div class="border-b border-gray-300">
            <div class="flex gap-2 justify-center">
                <button onclick="switchTab('tab1')" id="btn-tab1" class="px-6 py-3 font-semibold border-b-2 border-blue-500 text-blue-500">
                    Write a Story
                </button>
                <button onclick="switchTab('tab2')" id="btn-tab2" class="px-6 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700">
                    Explain a Concept
                </button>
                <button onclick="switchTab('tab3')" id="btn-tab3" class="px-6 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700">
                    Brainstorm Ideas
                </button>
                <button onclick="switchTab('tab4')" id="btn-tab4" class="px-6 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700">
                    Write a Letter
                </button>
            </div>
        </div>

        <!-- Tab Content -->
        <div class="mt-6">
            <div id="tab1" class="tab-content">
                <h2 class="text-2xl font-bold mb-4">Write a story</h2>
                <p class="text-gray-700">Perhaps you want to hear an epic tale about Batman visiting Antarctica?</p>
            </div>
            <div id="tab2" class="tab-content hidden">
                <h2 class="text-2xl font-bold mb-4">Explain a Concept</h2>
                <p class="text-gray-700">Perhaps you want quantum mechanics explained to you as if you're in 5th grade?</p>
            </div>
            <div id="tab3" class="tab-content hidden">
                <h2 class="text-2xl font-bold mb-4">Brainstorm Ideas</h2>
                <p class="text-gray-700">Perhaps you want to think of things to do when you visit Boston?</p>
            </div>
            <div id="tab4" class="tab-content hidden">
                <h2 class="text-2xl font-bold mb-4">Write a Letter</h2>
                <p class="text-gray-700">Perhaps you want to complain to your councilman about your neighbor?</p>
            </div>
        </div>
    </div>

    <script>
        let currentTab = 'tab1'; // Track current tab selection

        // Load saved tab selection on page load
        window.addEventListener('DOMContentLoaded', function() {
            const savedTab = sessionStorage.getItem('selected_tab');
            if (savedTab) {
                switchTab(savedTab);
                currentTab = savedTab;
            }
        });

        function switchTab(tabId) {
            // Hide all tab content
            const allTabs = document.querySelectorAll('.tab-content');
            allTabs.forEach(tab => tab.classList.add('hidden'));

            // Remove active styling from all buttons
            const allButtons = document.querySelectorAll('[id^="btn-"]');
            allButtons.forEach(btn => {
                btn.classList.remove('border-blue-500', 'text-blue-500');
                btn.classList.add('border-transparent', 'text-gray-500');
            });

            // Show selected tab
            document.getElementById(tabId).classList.remove('hidden');

            // Add active styling to selected button
            const activeButton = document.getElementById('btn-' + tabId);
            activeButton.classList.remove('border-transparent', 'text-gray-500');
            activeButton.classList.add('border-blue-500', 'text-blue-500');

            // Update current tab
            currentTab = tabId;
        }

        function saveSelectionAndContinue() {
            // Save the selected tab to sessionStorage
            sessionStorage.setItem('selected_tab', currentTab);
            // Navigate to first page
            window.location.href = '/first';
        }
    </script>

    <div class="flex justify-center gap-4 mt-8">
        <a href="/" class="bg-gray-500 hover:bg-gray-700 text-white font-bold py-2 px-4 rounded">
            Back
        </a>
        <button onclick="saveSelectionAndContinue()" class="bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded">
            Use this idea and continue
        </button>
    </div>
</div>
{% endblock %}